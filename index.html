<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Decibeles y Tiempo de Transmisi√≥n</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Include Chart.js -->
    <script src="script.js" defer></script>
  </head>
  <body>
    <header>
      <h1>Comunicaci√≥n de Datos</h1>
    </header>

    <div id="portada" class="portada">
      <h2>Bienvenido a la Calculadora de Comunicaci√≥n de Datos</h2>
      <img src="img/calcular.png" alt="Imagen de portada" />
      <button class="btn-ingresar" onclick="mostrarModulos()">Ingresar</button>
    </div>

    <div id="modulos" class="modulos" style="display: none">
      <h2>¬øQu√© quieres hacer hoy?</h2>
      <div class="tab-container">
        <button class="tab-button" onclick="openTab(event, 'atenuacion')">
          Atenuaci√≥n y Ganancia
        </button>
        <button class="tab-button" onclick="openTab(event, 'transmision')">
          Tiempo de Transmisi√≥n
        </button>
        <button class="tab-button" onclick="openTab(event, 'dbm')">
          Calculadora de dBm/dB
        </button>
        <button class="tab-button" onclick="openTab(event, 'enlaceRadio')">
          Enlace de Radio
        </button>
        <button class="tab-button" onclick="openTab(event, 'amplitudModulada')">
          Amplitud Modulada
        </button>
        <button class="tab-button" onclick="openTab(event, 'frecuenciaModulada')">
          Frecuencia Modulada
        </button>
        <button class="tab-button" onclick="openTab(event, 'askFsk')">
          Modulaci√≥n ASK y FSK
        </button>
      </div>

      <div class="tab-content-container">
        <!-- Pesta√±a de Atenuaci√≥n y Ganancia -->
        <div id="atenuacion" class="tab-content">
          <h2>Calculadora de Atenuaci√≥n y Ganancia</h2>
          <p>
            Arrastra las figuras de atenuaci√≥n o ganancia a la l√≠nea y digita el
            valor para crear una cola.
          </p>
          <div class="drag-container">
            <div
              class="draggable atenuacion"
              draggable="true"
              ondragstart="dragStart(event)"
            >
              Atenuaci√≥n
            </div>
            <div
              class="draggable ganancia"
              draggable="true"
              ondragstart="dragStart(event)"
            >
              Ganancia
            </div>
          </div>
          <div
            id="lineaAjustes"
            class="linea-ajustes drop-zone"
            ondragover="dragOver(event)"
            ondrop="drop(event)"
          >
            <p>Arrastra aqu√≠</p>
          </div>
          <div
            id="inputContainer"
            class="input-container"
            style="display: none; padding: 15px; font-size: 1em"
          >
            <label for="ajusteValor">Ingrese el valor:</label>
            <input
              type="number"
              id="ajusteValor"
              placeholder="Ingrese el valor"
              style="width: 100%; padding: 8px; font-size: 1em"
            />
            <button
              class="btn-add"
              onclick="agregarAjusteDesdeDrag()"
              style="padding: 8px 16px; font-size: 1em"
            >
              Agregar
            </button>
          </div>
          <button class="btn-calculate" onclick="calcularSumaLogaritmica()">
            Calcular Resultado
          </button>
          <button class="btn-reset" onclick="reiniciarAjustes()">
            Reiniciar
          </button>
          <div id="resultadoFinal" class="resultado-final"></div>
          <div id="pasoAPasoAtenuacionGanancia" class="paso-a-paso"></div>
        </div>

        <!-- Pesta√±a de Tiempo de Transmisi√≥n -->
        <div id="transmision" class="tab-content">
          <h2>Calculadora de Tiempo de Transmisi√≥n</h2>
          <p>
            Utiliza esta calculadora para determinar el tiempo necesario para
            transmitir un mensaje de un tama√±o espec√≠fico a una velocidad
            determinada.
          </p>
          <div class="input-group">
            <label for="tamanoMensaje">Tama√±o del mensaje:</label>
            <div>
              <button class="btn-select" onclick="mostrarUnidades('bits')">
                Bits
              </button>
              <button class="btn-select" onclick="mostrarUnidades('bytes')">
                Bytes
              </button>
            </div>
            <input
              type="number"
              id="tamanoMensaje"
              placeholder="Ingrese el tama√±o"
            />
            <label for="unidadTamano">Unidad:</label>
            <select id="unidadTamano" style="display: none"></select>
          </div>
          <div class="input-group">
            <label for="velocidadTransmision">Velocidad de transmisi√≥n:</label>
            <input
              type="number"
              id="velocidadTransmision"
              placeholder="Ingrese la velocidad"
            />
            <label for="unidadVelocidad">Unidad:</label>
            <select id="unidadVelocidad">
              <option value="bps">bps</option>
              <option value="kbps">kbps</option>
              <option value="mbps">mbps</option>
              <option value="gbps">gbps</option>
            </select>
          </div>
          <div class="input-group-inline">
            <label for="tiempoTransmision">Tiempo de transmisi√≥n:</label>
            <div class="resultado-final" id="tiempoTransmision">
              0.0000 segundos
            </div>
          </div>
          <button class="btn-calculate" onclick="calcularTiempoTransmision()">
            Calcular Tiempo
          </button>
          <div id="listaDatosTransmision" class="lista-datos"></div>
          <div id="pasoAPasoTransmision" class="paso-a-paso"></div>
        </div>

        <!-- Pesta√±a de Calculadora dBm/dB -->
        <div id="dbm" class="tab-content">
          <h2>Calculadora de dBm/dB</h2>
          <p>
            Utiliza esta calculadora para convertir entre valores, realizar
            sumas y restas.
          </p>

          <div class="calculadora-container">
            <!-- Calculadora -->
            <div class="calculadora">
              <div class="calculadora-display">
                <input type="text" id="display" readonly value="0" />
              </div>
              <div class="calculadora-pad">
                <button class="pad-btn numero" onclick="agregarNumero('7')">
                  7
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('8')">
                  8
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('9')">
                  9
                </button>
                <button class="pad-btn" onclick="borrarUltimo()">DEL</button>
                <button class="pad-btn" onclick="limpiarDisplay()">AC</button>
                <button class="pad-btn numero" onclick="agregarNumero('4')">
                  4
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('5')">
                  5
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('6')">
                  6
                </button>
                <button class="pad-btn operador" onclick="agregarOperador('*')">
                  √ó
                </button>
                <button class="pad-btn operador" onclick="agregarOperador('/')">
                  /
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('1')">
                  1
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('2')">
                  2
                </button>
                <button class="pad-btn numero" onclick="agregarNumero('3')">
                  3
                </button>
                <button class="pad-btn operador" onclick="agregarOperador('+')">
                  +
                </button>
                <button class="pad-btn operador" onclick="agregarOperador('-')">
                  ‚àí
                </button>
                <button
                  class="pad-btn numero zero"
                  onclick="agregarNumero('0')"
                >
                  0
                </button>
                <button class="pad-btn" onclick="agregarDecimal()">.</button>
                <button class="pad-btn operador" onclick="agregarUnidad('dB')">
                  dB
                </button>
                <button class="pad-btn operador" onclick="agregarUnidad('dBm')">
                  dBm
                </button>
                <button class="pad-btn operador" onclick="agregarUnidad('dBW')">
                  dBW
                </button>
                <button class="pad-btn igual" onclick="calcularResultado()">
                  =
                </button>
              </div>
            </div>

            <!-- Historial -->
            <div class="historial">
              <h3>Historial de c√°lculos</h3>
              <div id="historialCalculos" class="historial-lista"></div>
              <button class="btn-reset" onclick="eliminarHistorial()">
                Eliminar Historial
              </button>
            </div>
          </div>
          <div
            id="pasoAPasoDbm"
            style="
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #ccc;
              border-radius: 5px;
              background-color: #f4f4f4;
            "
          ></div>
        </div>
        <!-- Pesta√±a enlace de radio -->
        <div id="enlaceRadio" class="tab-content">
          <h2>Calculadora de Enlace de Radio</h2>
          <p>
            Arrastra las figuras correspondientes a los datos de entrada a la
            l√≠nea y digita el valor para crear una cola.
          </p>

          <!-- √Årea de elementos arrastrables -->
          <div class="drag-container">
            <div
              class="draggable-radio potencia-transmitida"
              data-tipo="potenciaTransmitida"
              draggable="true"
              ondragstart="dragStartRadio(event)"
              style="background-color: red"
            >
              Potencia Transmitida <small>(dBm)</small>
            </div>
            <div
              class="draggable-radio ganancia-transmisora"
              data-tipo="gananciaTransmisora"
              draggable="true"
              ondragstart="dragStartRadio(event)"
              style="background-color: green"
            >
              Ganancia Transmisora <small>(dBi)</small>
            </div>
            <div
              class="draggable-radio ganancia-receptora"
              data-tipo="gananciaReceptora"
              draggable="true"
              ondragstart="dragStartRadio(event)"
              style="background-color: blue"
            >
              Ganancia Receptora <small>(dBi)</small>
            </div>
            <div
              class="draggable-radio distancia"
              data-tipo="distancia"
              draggable="true"
              ondragstart="dragStartRadio(event)"
              style="background-color: orange"
            >
              Distancia <small>(m)</small>
            </div>
            <div
              class="draggable-radio frecuencia"
              data-tipo="frecuencia"
              draggable="true"
              ondragstart="dragStartRadio(event)"
              style="background-color: purple"
            >
              Frecuencia <small>(Hz)</small>
            </div>
          </div>

          <!-- √Årea donde se sueltan los datos -->
          <div
            id="dropZoneRadio"
            class="linea-ajustes drop-zone"
            ondragover="dragOverRadio(event)"
            ondrop="dropRadio(event)"
          >
            <!-- Los rect√°ngulos se generar√°n din√°micamente aqu√≠ -->
          </div>

          <!-- Formulario emergente para ingresar datos -->
          <div
            id="formularioEmergente"
            class="input-container"
            style="display: none"
          >
            <label for="valorDato">Ingrese el valor:</label>
            <input
              type="number"
              id="valorDato"
              placeholder="Ingrese el valor"
              style="width: 100%; padding: 8px"
            />
            <button class="btn-reset" onclick="cerrarFormulario()">
              ‚ùå Cancelar
            </button>
            <button class="btn-add" onclick="agregarDatoDesdeFormulario()">
              ‚ûï Agregar
            </button>
          </div>

          <!-- Botones de c√°lculo -->
          <button class="btn-calculate" onclick="calcularFSPL()">
            Calcular P√©rdida de Espacio Libre
          </button>
          <button class="btn-calculate" onclick="calcularPotenciaRecibida()">
            Calcular Potencia Recibida
          </button>

          <!-- Resultados -->
          <div id="resultadoEnlaceRadio" class="resultado-final"></div>
          <div id="pasoAPasoEnlaceRadio" class="paso-a-paso"></div>
        </div>
      </div>
    </div>
    <!-- Contenido de la pesta√±a Amplitud Modulada -->
    <div id="amplitudModulada" class="tab-content">
      <h2>Amplitud Modulada (AM)</h2>
      <p>
        Explora la teor√≠a y visualizaci√≥n gr√°fica de la modulaci√≥n en amplitud.
      </p>

      <!-- Secci√≥n te√≥rica -->
      <div id="teoriaAM" class="teoria">
        <h3>üì° ¬øQu√© es la Amplitud Modulada (AM)?</h3>
        <p>
          La Amplitud Modulada (AM) es una t√©cnica de modulaci√≥n en la que se
          var√≠a la amplitud de una se√±al portadora de alta frecuencia en funci√≥n
          de la amplitud de una se√±al de mensaje (tambi√©n llamada moduladora),
          que generalmente es de baja frecuencia. Esta t√©cnica se utiliza para
          transmitir informaci√≥n (como voz o m√∫sica) a trav√©s de ondas de radio.
        </p>

        <h4>üìä Gr√°ficas t√≠picas en la modulaci√≥n AM</h4>

        <!-- Se√±al moduladora -->
        <div class="teoria-seccion">
          <h5>üî∏ 1. Se√±al moduladora (mensaje)</h5>
          <p>
            Es la se√±al de informaci√≥n original, generalmente una onda de baja
            frecuencia (como audio).
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>m(t) = A<sub>m</sub> cos(2œÄf<sub>m</sub>t)</code>
          </p>
        </div>

        <!-- Se√±al portadora -->
        <div class="teoria-seccion">
          <h5>üî∏ 2. Se√±al portadora</h5>
          <p>
            Se√±al de alta frecuencia que sirve como base para transmitir la
            informaci√≥n.
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>c(t) = A<sub>c</sub> cos(2œÄf<sub>c</sub>t)</code>
          </p>
        </div>

        <!-- Se√±al AM -->
        <div class="teoria-seccion">
          <h5>üî∏ 3. Se√±al AM (modulada en amplitud)</h5>
          <p>Es el resultado de aplicar la modulaci√≥n AM.</p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code
              >s(t) = A<sub>c</sub>[1 + k<sub>a</sub>m(t)]
              cos(2œÄf<sub>c</sub>t)</code
            >
          </p>
        </div>

        <!-- Espectro de frecuencia -->
        <div class="teoria-seccion">
          <h5>üî∏ 4. Espectro de frecuencia de la se√±al AM</h5>
          <p>
            La se√±al AM genera un espectro con tres componentes principales:
          </p>
          <ul>
            <li>
              <strong>Portadora:</strong> <code>f<sub>c</sub></code>
            </li>
            <li>
              <strong>Banda Lateral Superior (USB):</strong>
              <code>f<sub>c</sub> + f<sub>m</sub></code>
            </li>
            <li>
              <strong>Banda Lateral Inferior (LSB):</strong>
              <code>f<sub>c</sub> - f<sub>m</sub></code>
            </li>
          </ul>
        </div>
      </div>

      <!-- Secci√≥n gr√°fica -->
      <div id="graficoAM" class="grafico">
        <h3>Visualizaci√≥n Gr√°fica</h3>
        <p>
          Utiliza los controles para ajustar los par√°metros y observar c√≥mo
          cambia la se√±al modulada.
        </p>
        <div class="input-group">
          <label for="frecuenciaPortadora">Frecuencia Portadora (Hz):</label>
          <input type="number" id="frecuenciaPortadora" value="1000" min="1" />
        </div>
        <div class="input-group">
          <label for="frecuenciaModuladora">Frecuencia Moduladora (Hz):</label>
          <input type="number" id="frecuenciaModuladora" value="100" min="1" />
        </div>
        <div class="input-group">
          <label for="indiceModulacion">√çndice de Modulaci√≥n (m):</label>
          <input
            type="number"
            id="indiceModulacion"
            value="0.5"
            step="0.1"
            min="0"
            max="1"
          />
        </div>
        <button class="btn-calculate" onclick="generarGraficoAM()">
          Generar Gr√°fico
        </button>
        <canvas
          id="graficoCanvas"
          width="800"
          height="400"
          style="border: 1px solid #ccc"
        ></canvas>
      </div>
    </div>
    <!-- Contenido de la pesta√±a Frecuencia Modulada -->
    <div id="frecuenciaModulada" class="tab-content">
      <h2>Frecuencia Modulada (FM)</h2>
      <p>Calcula y visualiza la modulaci√≥n en frecuencia.</p>

      <!-- Secci√≥n te√≥rica -->
      <div id="teoriaFM" class="teoria">
        <h3>üì° ¬øQu√© es la Frecuencia Modulada (FM)?</h3>
        <p>
          La Frecuencia Modulada (FM) es una t√©cnica de modulaci√≥n en la que se var√≠a la frecuencia de una se√±al portadora de alta frecuencia en funci√≥n de la amplitud de una se√±al de mensaje (moduladora), que generalmente es de baja frecuencia. Esta t√©cnica es ampliamente utilizada en la transmisi√≥n de se√±ales de audio de alta calidad, como en la radio FM.
        </p>

        <h4>üìä Gr√°ficas t√≠picas en la modulaci√≥n FM</h4>

        <!-- Se√±al moduladora -->
        <div class="teoria-seccion">
          <h5>üî∏ 1. Se√±al moduladora (mensaje)</h5>
          <p>
            Es la se√±al de informaci√≥n original, generalmente una onda de baja frecuencia (como audio).
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>m(t) = A<sub>m</sub> cos(2œÄf<sub>m</sub>t)</code>
          </p>
        </div>

        <!-- Se√±al portadora -->
        <div class="teoria-seccion">
          <h5>üî∏ 2. Se√±al portadora</h5>
          <p>
            Se√±al de alta frecuencia que sirve como base para transmitir la informaci√≥n.
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>c(t) = A<sub>c</sub> cos(2œÄf<sub>c</sub>t)</code>
          </p>
        </div>

        <!-- Se√±al FM -->
        <div class="teoria-seccion">
          <h5>üî∏ 3. Se√±al FM (modulada en frecuencia)</h5>
          <p>Es el resultado de aplicar la modulaci√≥n FM.</p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code
              >s(t) = A<sub>c</sub> cos(2œÄf<sub>c</sub>t +
              Œ≤ sin(2œÄf<sub>m</sub>t))</code
            >
          </p>
        </div>

        <!-- Espectro de frecuencia -->
        <div class="teoria-seccion">
          <h5>üî∏ 4. Espectro de frecuencia de la se√±al FM</h5>
          <p>
            La se√±al FM genera un espectro con m√∫ltiples componentes debido a las bandas laterales, que dependen del √≠ndice de modulaci√≥n (<code>Œ≤</code>).
          </p>
          <ul>
            <li>
              <strong>Portadora:</strong> <code>f<sub>c</sub></code>
            </li>
            <li>
              <strong>Bandas laterales:</strong> <code>f<sub>c</sub> ¬± nf<sub>m</sub></code>, donde <code>n</code> es un entero positivo.
            </li>
          </ul>
        </div>
      </div>

      <!-- Controles de entrada -->
      <div class="linea-ajustes drop-zone">
        <div class="input-group">
          <label for="amplitudPortadora">Amplitud de la Portadora (Ac):</label>
          <input type="number" id="amplitudPortadora" placeholder="Ingrese Ac" />
        </div>
        <div class="input-group">
          <label for="frecuenciaPortadora">Frecuencia de la Portadora (fc):</label>
          <input type="number" id="frecuenciaPortadora" placeholder="Ingrese fc (Hz)" />
        </div>
        <div class="input-group">
          <label for="amplitudModuladora">Amplitud de la Moduladora (Am):</label>
          <input type="number" id="amplitudModuladora" placeholder="Ingrese Am" />
        </div>
        <div class="input-group">
          <label for="frecuenciaModuladora">Frecuencia de la Moduladora (fm):</label>
          <input type="number" id="frecuenciaModuladora" placeholder="Ingrese fm (Hz)" />
        </div>
        <div class="input-group">
          <label for="indiceModulacion">√çndice de Modulaci√≥n (Œ≤):</label>
          <input type="number" id="indiceModulacion" placeholder="Ingrese Œ≤" step="0.1" min="0" />
        </div>
        <button class="btn-calculate" onclick="calcularFrecuenciaModulada()">Generar Gr√°ficas</button>

        <!-- Gr√°ficas -->
        <div class="grafica-container">
          <div class="grafica-box">
            <h3>Se√±al Portadora</h3>
            <canvas id="graficaPortadora" width="500" height="150"></canvas>
          </div>
          <div class="grafica-box">
            <h3>Se√±al Moduladora</h3>
            <canvas id="graficaModuladora" width="500" height="150"></canvas>
          </div>
          <div class="grafica-box">
            <h3>Se√±al Modulada en FM</h3>
            <canvas id="graficaModulada" width="500" height="150"></canvas>
          </div>
          <div class="grafica-box">
            <h3>Se√±al Modulada con Envolvente</h3>
            <canvas id="graficaEnvolvente" width="500" height="150"></canvas>
          </div>
        </div>
      </div>
    </div>
    <!-- Contenido de la pesta√±a Modulaci√≥n ASK y FSK -->
    <div id="askFsk" class="tab-content">
      <h2>Modulaci√≥n ASK y FSK</h2>
      <p>Explora la teor√≠a y visualizaci√≥n gr√°fica de las modulaciones ASK y FSK.</p>

      <!-- Secci√≥n te√≥rica -->
      <div id="teoriaASKFSK" class="teoria">
        <h3>üì° ¬øQu√© son las modulaciones ASK y FSK?</h3>
        <p>
          Las modulaciones ASK (Amplitude Shift Keying) y FSK (Frequency Shift Keying) son t√©cnicas de modulaci√≥n digital utilizadas para transmitir datos binarios.
        </p>

        <h4>üìä Gr√°ficas t√≠picas en las modulaciones ASK y FSK</h4>

        <!-- Modulaci√≥n ASK -->
        <div class="teoria-seccion">
          <h5>üî∏ 1. Modulaci√≥n ASK</h5>
          <p>
            En ASK, la amplitud de la se√±al portadora cambia en funci√≥n de los datos binarios. Un nivel alto (1) se representa con una amplitud alta, y un nivel bajo (0) con una amplitud baja o nula.
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>s(t) = A cos(2œÄf<sub>c</sub>t), A = A<sub>1</sub> para 1, A = A<sub>0</sub> para 0</code>
          </p>
        </div>

        <!-- Modulaci√≥n FSK -->
        <div class="teoria-seccion">
          <h5>üî∏ 2. Modulaci√≥n FSK</h5>
          <p>
            En FSK, la frecuencia de la se√±al portadora cambia en funci√≥n de los datos binarios. Un nivel alto (1) se representa con una frecuencia <code>f<sub>1</sub></code>, y un nivel bajo (0) con una frecuencia <code>f<sub>0</sub></code>.
          </p>
          <p>
            <strong>Ecuaci√≥n:</strong>
            <code>s(t) = A cos(2œÄf<sub>1</sub>t) para 1, s(t) = A cos(2œÄf<sub>0</sub>t) para 0</code>
          </p>
        </div>
      </div>

      <!-- Controles de entrada -->
      <div class="linea-ajustes drop-zone">
        <div class="input-group">
          <label for="datosBinarios">Datos Binarios:</label>
          <input type="text" id="datosBinarios" placeholder="Ejemplo: 101010" />
        </div>
        <div class="input-group">
          <label for="frecuenciaPortadoraASK">Frecuencia Portadora (ASK):</label>
          <input type="number" id="frecuenciaPortadoraASK" placeholder="Ingrese fc (Hz)" />
        </div>
        <div class="input-group">
          <label for="frecuenciaPortadoraFSK1">Frecuencia FSK (1):</label>
          <input type="number" id="frecuenciaPortadoraFSK1" placeholder="Ingrese f1 (Hz)" />
        </div>
        <div class="input-group">
          <label for="frecuenciaPortadoraFSK0">Frecuencia FSK (0):</label>
          <input type="number" id="frecuenciaPortadoraFSK0" placeholder="Ingrese f0 (Hz)" />
        </div>
        <button class="btn-calculate" onclick="generarGraficoASKFSK()">Generar Gr√°ficas</button>

        <!-- Gr√°ficas -->
        <div class="grafica-container">
          <div class="grafica-box">
            <h3>Se√±al Modulada ASK</h3>
            <canvas id="graficaASK" width="500" height="150"></canvas>
          </div>
          <div class="grafica-box">
            <h3>Se√±al Modulada FSK</h3>
            <canvas id="graficaFSK" width="500" height="150"></canvas>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
